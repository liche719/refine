<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.achobeta.domain.aisuggession.adapter.repository.AILearningSuggessionRepository">

    <select id="getKeyPoint" resultType="com.achobeta.domain.aisuggession.model.entity.KnowledgePointEntity">
        select question_content as context, k.knowledge_desc as knowledgePoint, m.question_status as status from MistakeQuestion m
        join knowledgePoint k on m.knowledge_point_id = k.knowledge_point_id
        where m.user_id = #{userId} and update_time >= now() - interval 14 day
    </select>
</mapper>